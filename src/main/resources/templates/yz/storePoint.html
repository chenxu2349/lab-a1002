<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Demo</title>
    <!-- 请勿在项目正式环境中引用该 layui.css 地址 -->
    <link href="//unpkg.com/layui@2.8.4/dist/css/layui.css" rel="stylesheet">
    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
<!--<ul class="layui-nav layui-bg-cyan">-->
<!--    <li class="layui-nav-item" id="sub1"><a href="MainHome.html">首页</a></li>-->
<!--    <li class="layui-nav-item" id="sub2"><a href="">物资需求</a></li>-->
<!--    <li class="layui-nav-item" id="sub3"><a href="presetting.html">物资预置</a></li>-->
<!--    <li class="layui-nav-item" id="sub4"><a href="">物资调度</a></li>-->
<!--    <li class="layui-nav-item" id="sub5"><a href="">运输保障</a></li>-->
<!--</ul>-->
<!--<br>-->

<!-- 子页面 -->
<br>

<!--表单-->
<form class="layui-form" id="form1" style="width: 1200px">

    <div class="layui-form-item">
        <label class="layui-form-label">联动选择框</label>
        <div class="layui-input-inline">
            <select name="quiz1">
                <option value="">请选择省</option>
                <option value="浙江" selected>浙江省</option>
                <option value="你的工号">江西省</option>
                <option value="你最喜欢的老师">福建省</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select name="quiz2">
                <option value="">请选择市</option>
                <option value="杭州">杭州</option>
                <option value="宁波" disabled>宁波</option>
                <option value="温州">温州</option>
                <option value="温州">台州</option>
                <option value="温州">绍兴</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select name="quiz3">
                <option value="">请选择县/区</option>
                <option value="西湖区">西湖区</option>
                <option value="余杭区">余杭区</option>
                <option value="拱墅区">临安市</option>
            </select>
        </div>
        <div class="layui-form-mid layui-text-em">
            <i class="layui-icon layui-icon-tips" lay-tips="{
        content: '此处只是演示联动排版，并未做联动交互',
        margin: '0 0 0 -10px'
      }"></i>
        </div>
    </div>

    <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;城市基本信息:</h3><br>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">&nbsp;</label>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input0" type="text" name="area_id" placeholder="地区id" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid">&nbsp;&nbsp;</div>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input1" type="text" name="citySize" placeholder="城市规模" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid">&nbsp;&nbsp;</div>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input2" type="text" name="populationSize" placeholder="人口数量" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>

<!--    <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;城市交通枢纽数量:</h3><br>-->
<!--    <div class="layui-form-item">-->
<!--        <div class="layui-inline">-->
<!--            <label class="layui-form-label">&nbsp;</label>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input2" type="text" name="airports" placeholder="机场" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--            <div class="layui-form-mid">&nbsp;&nbsp;</div>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input3" type="text" name="trainStations" placeholder="火车站" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--            <div class="layui-form-mid">&nbsp;&nbsp;</div>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input4" type="text" name="busStations" placeholder="汽车站" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
    <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;城市往年地震次数:</h3><br>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">&nbsp;</label>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input3" type="text" name="smallScaleDisasterEventNumber" placeholder="4级以下" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid">&nbsp;&nbsp;</div>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input4" type="text" name="middleScaleDisasterEventNumber" placeholder="4-6级" autocomplete="off" class="layui-input">
            </div>
            <div class="layui-form-mid">&nbsp;&nbsp;</div>
            <div class="layui-input-inline" style="width: 150px;">
                <input id="input5" type="text" name="largeScaleDisasterEventNumber" placeholder="6级以上" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
<!--    <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;区县信息:</h3><br>-->
<!--    <div class="layui-form-item">-->
<!--        <div class="layui-inline">-->
<!--            <label class="layui-form-label">&nbsp;</label>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input8" type="text" name="populationSize" placeholder="人口数量" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--            <div class="layui-form-mid">&nbsp;&nbsp;</div>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input9" type="text" name="density" placeholder="人口密度" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--            <div class="layui-form-mid">&nbsp;&nbsp;</div>-->
<!--            <div class="layui-input-inline" style="width: 120px;">-->
<!--                <input id="input10" type="text" name="gdp" placeholder="GDP总量" autocomplete="off" class="layui-input">-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->

    <br><br>
    <div class="layui-form-item">
        <div class="layui-input-block">
            <button type="submit" class="layui-btn" id="btn1" lay-submit lay-filter="demo1">立即提交</button>
            <button type="reset" class="layui-btn layui-btn-primary">重置</button>
        </div>
    </div>
</form>


<!-- 请勿在项目正式环境中引用该 layui.js 地址 -->
<script src="//unpkg.com/layui@2.8.4/dist/layui.js"></script>
<script src="../../js/axios.min.js"></script>
<!--<script>-->
<!--    $(function(){-->
<!--        // 绑定按钮点击事件-->
<!--        $("#btn1").click(function(){-->
<!--            // 发送POST请求-->
<!--            var formData = {-->
<!--                // 将表单数据转换成JSON格式的数据-->
<!--                "area_id": $("#input1").val(),-->
<!--                "smallScaleDisasterEventNumber": $("#input2").val(),-->
<!--                "middleScaleDisasterEventNumber": $("#input3").val(),-->
<!--                "largeScaleDisasterEventNumber": $("#input4").val(),-->
<!--                "populationSize": $("#input5").val(),-->
<!--                "citySize": $("#input6").val()-->
<!--            };-->

<!--            $.ajax({-->
<!--                type: "POST",-->
<!--                url: "http://localhost:8080/presetting/store-point",-->
<!--                data: JSON.stringify(formData), // 将JSON格式的数据发送到后端-->
<!--                contentType: "application/json",-->
<!--                dataType: "json",-->
<!--                success: function(response) {-->
<!--                    // alert(String(response.code));-->
<!--                    if (String(response.code) === '1') {-->
<!--                        localStorage.setItem("data", JSON.stringify(response.data));-->
<!--                        window.location.href= 'materialTable.html';-->
<!--                    } else {-->
<!--                        alert("不适合作为储备点！");-->
<!--                    }-->
<!--                },-->
<!--                error: function(jqXHR, textStatus, errorThrown) {-->
<!--                    console.error('发生错误：' + textStatus);-->
<!--                    alert('发生错误：' + textStatus);-->
<!--                }-->
<!--            });-->

<!--            // axios.post(-->
<!--            //     'http://localhost:8080/presetting/store-point',-->
<!--            //     JSON.stringify(formData),-->
<!--            //     {headers:{'content-type':'application/json', 'dataType':'json'}}-->
<!--            // )-->
<!--            //     .then(response => {-->
<!--            //         console.log(response.data);-->
<!--            //         if (String(response.code) === '1') {-->
<!--            //             localStorage.setItem("data", JSON.stringify(response.data));-->
<!--            //             window.location.href= 'materialTable.html';-->
<!--            //         } else {-->
<!--            //             alert("不适合作为储备点！");-->
<!--            //         }-->
<!--            //     })-->
<!--            //     .catch(error => {-->
<!--            //         console.log(error);-->
<!--            //         alert("不适合作为储备点！");-->
<!--            //     });-->

<!--        });-->
<!--    });-->

<!--</script>-->
<script>
    layui.use(function(){
        var form = layui.form;
        var layer = layui.layer;
        // 提交事件
        form.on('submit(demo1)', function(data){
            var field = data.field; // 获取表单字段值
            // 显示填写结果，仅作演示用
            layer.alert(JSON.stringify(field), {
                title: '当前填写的字段值'
            });
            // 此处可执行 Ajax 等操作
            $.ajax({
                type: "POST",
                url: "http://localhost:8080/presetting/store-point",
                data: JSON.stringify(field), // 将JSON格式的数据发送到后端
                contentType: "application/json",
                dataType: "json",
                success: function(response) {
                    // alert(String(response.code));
                    if (String(response.code) === '1') {
                        localStorage.setItem("data", JSON.stringify(response.data));
                        window.location.href= 'yz_sub.html';
                    } else {
                        alert("不适合作为储备点！");
                    }
                },
                error: function(jqXHR, textStatus, errorThrown) {
                    console.error('发生错误：' + textStatus);
                    alert('发生错误：' + textStatus);
                }
            });
        });
    });
</script>
</body>
</html>